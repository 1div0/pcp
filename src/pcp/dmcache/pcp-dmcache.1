'\"macro stdmacro
.\"
.\" Copyright (c) 2017-2019 Red Hat.
.\"
.\" This program is free software; you can redistribute it and/or modify it
.\" under the terms of the GNU General Public License as published by the
.\" Free Software Foundation; either version 2 of the License, or (at your
.\" option) any later version.
.\"
.\" This program is distributed in the hope that it will be useful, but
.\" WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
.\" or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
.\" for more details.
.\"
.\"
.TH PCP-DMCACHE 1 "PCP" "Performance Co-Pilot"
.SH NAME
\f3pcp-dmcache\f1,
\f3pcp-lvmcache\f1 \- report on logical storage device caches
.SH SYNOPSIS
\f3pcp\f1 [\f2pcp\ options\f1] \f3dmcache\f1
[\f3\-iR?\f1] [\f2device\f1 ...]
.SH DESCRIPTION
.B pcp-dmcache
reports on the activity of any configured Device Mapper Cache targets.
The reported information includes device IOPs, cache and metadata device
utilization, as well as hit and miss rates and ratios for both reads and
writes for each cache device.
.PP
.B pcp-lvmcache
(Logical Volume Manager cache) is an exact synonym for
.B pcp-dmcache
(Device Mapper cache).
.PP
By default,
.B pcp-dmcache
reports on all available cache target devices (one line each, per sample),
but this can be restricted to specific devices on the command line.
.SH OPTIONS
When invoked via the
.BR pcp (1)
command, the
.BR \-h /\c
.BR \-\-host ,
.BR \-a /\c
.BR \-\-archive ,
.BR \-O /\c
.BR \-\-origin ,
.BR \-s /\c
.BR \-\-samples ,
.BR \-t /\c
.BR \-\-interval ,
.BR \-Z /\c
.BR \-\-timezone
and several other
.I pcp options
become indirectly available.
.PP
Additional options are available for changing the output displayed by
.BR pcp-dmcache .
.TP
\fB\-i\fR, \fB\-\-iops\fR
displays total read and write operations instead of the default cache hit ratio.
.TP
\fB\-R\fR, \fB\-\-repeat\fR
changes the frequency at which the column heading is displayed.
By default, a header is displayed after every tenth sample.
.TP
\fB\-?\fR, \fB\-\-help\fR
Display usage message and exit.
.SH SEE ALSO
.BR pcp (1),
.BR pmdadm (1),
.BR dmsetup (1),
.BR PCPIntro (1)
and
.BR lvmcache (7).
